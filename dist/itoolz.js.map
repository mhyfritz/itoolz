{"version":3,"sources":["../src/itoolz.js"],"names":[],"mappings":"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","file":"itoolz.js","sourcesContent":["export {\n  accumulate,\n  all,\n  any,\n  chain,\n  chainFromIterable,\n  compress,\n  count,\n  cycle,\n  dropwhile,\n  enumerate,\n  filter,\n  filterfalse,\n  iter,\n  map,\n  max,\n  min,\n  next,\n  range,\n  reduce,\n  repeat,\n  slice,\n  starmap,\n  takewhile,\n  zip\n};\n\nfunction* accumulate(xs, f = add) {\n  var it = iter(xs);\n  var head = it.next();\n  var acc;\n  if (head.done) {\n    return;\n  }\n  acc = head.value;\n  yield acc;\n  for (let x of it) {\n    acc = f(acc, x);\n    yield acc;\n  }\n}\n\nfunction all(it, f = Boolean) {\n  for (let x of it) {\n    if (!f(x)) {\n      return false;\n    }\n  }\n  return true;\n}\n\nfunction any(it, f = Boolean) {\n  for (let x of it) {\n    if (f(x)) {\n      return true;\n    }\n  }\n  return false;\n}\n\nfunction* chain(...its) {\n  for (let it of its) {\n    for (let x of it) {\n      yield x;\n    }\n  }\n}\n\nfunction* chainFromIterable(it) {\n  for (let xs of it) {\n    for (let x of xs) {\n      yield x;\n    }\n  }\n}\n\nfunction* compress(it, select) {\n  for (let [val, sel] of zip(it, select)) {\n    if (sel) {\n      yield val;\n    }\n  }\n}\n\nfunction* count(start = 0, step = 1) {\n  for (let i = start; ; i += step) {\n    yield i;\n  }\n}\n\nfunction* cycle(it) {\n  var xs = [];\n  for (let x of it) {\n    yield x;\n    xs.push(x);\n  }\n  while (true) {  //eslint-disable-line no-constant-condition\n    for (let x of xs) {\n      yield x;\n    }\n  }\n}\n\nfunction* dropwhile(predicate, xs) {\n  var x;\n  var it = iter(xs);\n  for (x of it) {\n    if (!predicate(x)) {\n      yield x;\n      break;\n    }\n  }\n  for (x of it) {\n    yield x;\n  }\n}\n\nfunction* enumerate(xs, start = 0) {\n  yield* zip(count(start), xs);\n}\n\nfunction* filter(predicate, it) {\n  if (!predicate) {\n    predicate = Boolean;\n  }\n  for (let x of it) {\n    if (predicate(x)) {\n      yield x;\n    }\n  }\n}\n\nfunction* filterfalse(predicate, it) {\n  if (!predicate) {\n    predicate = Boolean;\n  }\n  yield* filter(x => !predicate(x), it);\n}\n\nfunction* iter(obj, sentinel) {\n  if (sentinel === undefined) {\n    yield* obj[Symbol.iterator] ? obj[Symbol.iterator]() : obj;\n  } else {\n    yield* (function* g() {\n      while (true) { //eslint-disable-line no-constant-condition\n        let x = obj();\n        if (x === sentinel) {\n          return;\n        }\n        yield x;\n      }\n    }());\n  }\n}\n\nfunction* map(f, ...xss) {\n  for(let xs of zip(...xss)) {\n    yield f(...xs);\n  }\n}\n\nfunction max(it, keyfunc) {\n  let maxValue = -Infinity;\n  let res;\n  let xValue;\n  for (let x of it) {\n    xValue = keyfunc ? keyfunc(x) : x;\n    if (xValue > maxValue) {\n      maxValue = xValue;\n      res = x;\n    }\n  }\n  return res;\n}\n\nfunction min(it, keyfunc) {\n  let minValue = Infinity;\n  let res;\n  let xValue;\n  for (let x of it) {\n    xValue = keyfunc ? keyfunc(x) : x;\n    if (xValue < minValue) {\n      minValue = xValue;\n      res = x;\n    }\n  }\n  return res;\n}\n\nfunction next(it) {\n  return it.next().value;\n}\n\nfunction* range(start, stop, step = 1) {\n  if (stop === undefined) {\n    stop = start;\n    start = 0;\n  }\n  for (let i of count(start, step)) {\n    if (stop !== null && i >= stop) {\n      return;\n    }\n    yield i;\n  }\n}\n\nfunction reduce(f, xs, init) {\n  var it = iter(xs);\n  var acc;\n  if (init !== undefined) {\n    acc = init;\n  } else {\n    acc = it.next().value;\n  }\n  for (let x of it) {\n    acc = f(acc, x);\n  }\n  return acc;\n}\n\nfunction* repeat(elem, n) {\n  while (true) { //eslint-disable-line no-constant-condition\n    if (n !== undefined && n-- === 0) {\n      break;\n    }\n    yield elem;\n  }\n}\n\nfunction* slice(it, start, stop, step = 1) {\n  if (stop === undefined) {\n    stop = start;\n    start = 0;\n  }\n  var is = range(start, stop, step);\n  var nexti = is.next().value;\n  for (let [i, x] of enumerate(it)) {\n    if (nexti === undefined) {\n      break;\n    }\n    if (i === nexti) {\n      yield x;\n      nexti = is.next().value;\n    }\n  }\n  return;\n}\n\nfunction* starmap(f, it) {\n  for (let xs of it) {\n    yield f(...xs);\n  }\n}\n\nfunction* takewhile(predicate, it) {\n  for (let x of it) {\n    if (!predicate(x)) {\n      return;\n    }\n    yield x;\n  }\n}\n\nfunction* zip(...xss) {\n  var its = xss.map(function (xs) {\n    return xs[Symbol.iterator] ? xs[Symbol.iterator]() : xs;\n  });\n  let isUndefined = x => x !== undefined;\n  while (its) {\n    let ret = its.map(next);\n    if (all(ret, isUndefined)) {\n      yield ret;\n    } else {\n      return;\n    }\n  }\n}\n\nfunction add(x, y) {\n  return x + y;\n}\n"]}